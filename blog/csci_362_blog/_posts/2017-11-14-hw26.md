---
layout: blog/post
title: "HW26: Team Progress II"
description: Reflections on the progress of my team's automated testing framework project for Canvas LMS.
date: 2017-11-14 10:00:00 -5EST
category: csci_362_blog
---

### Links
<ul>
  <li>
    <a href="https://github.com/CSCI-362-02-2017/Don-t-Test-Me" target="_blank" class="font-weight-bold">Don't Test Me GitHub Repository</a>
  </li>
  <li>
    <a href="https://github.com/instructure/canvas-lms" target="_blank" class="font-weight-bold">Canvas LMS GitHub Repository</a>
  </li>
</ul>

### Response
My team, **Don't Test me**, has complete finished out test suite. Since my last team progress report, we've made several substantial changes:

* Because we have 5 tests for each model method that we are testing, we decided to use only one test file per method. This allowed us to cut down our executables from 25 files to only 5 files.

* We decided to incorporate our oracle values inside of our test case specification files, rather than as separate files. We decided to do this after consulting Dr. Bowring as it was merely a way to simplify our specifications even further.

* We completed our final 20 test cases (4 tested methods). In the process of completing these test cases, we found that some of our oracles and inputs were incorrect, though most of these cases were the difference between an integer and an equivalent float value.

* Our largest and most important change since the last iteration was changing how we utilize Canvas's source code in our tests. Originally, we tried to avoid using a Database and importing large portions of Canvas's code, so we included only the basic model files used in our tests and installed a Ruby Gem called `activerecord-tableless` which allowed us to write our tests without a datbase. However, doing this required us to comment out a large number of lines of code in our models that included depedency files and add small snippets of code to support the tableless model.

* Not liking how much we had to modify Canvas's source code, we decided to try and run our suite in Canvas's full source code (with unused code removed to reduce the amount of space used in our repository). We discovered that we only had to install a limited number of dependencies to get the code running. It does take a while to install, but it's relatively easy and straight-forward, and we hope in the future to automate at least part of the process with a shell script. With the Canvas Ruby on Rails project installed, we found that we could execute a Rails component called _rails runner_ which allows you to run Ruby scripts in a native Rails environment. This gave us easy access to all of the models and dependencies we needed, as well as the PostgreSQL database. This actually made the testing process much simpler for us in the end.

* Our testing framework now has 25 fully-functional and passing test cases. We believe that its design makes it versatile and robust to fit any Rails environment with different dependencies installed and different models tested. To perform testing, the _TestAutomation_ folder can be placed one player inside of the root directory of a Rails project. Once test cases and executable are written, tests should run with the same ease as our current implementation in Canvas LMS.

<figure class="figure">
  <img src="/assets/images/blog/csci_362_blog/hw26_report.png" class="figure-img img-fluid w-100" alt="HW26 - Full Test Report">
  <figcaption class="text-center">A complete report generated by our test suite</figcaption>
</figure>
